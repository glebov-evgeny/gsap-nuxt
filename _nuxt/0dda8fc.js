(window.webpackJsonp=window.webpackJsonp||[]).push([[14,13],{359:function(r,e,t){"use strict";t.r(e);t(168);var o=t(4),n=(t(33),t(24),t(19),t(360),{name:"m-form",props:{className:{type:String,default:""}},data:function(){return{email:null,password:null,emailError:!1,passwordError:!1,formWasSend:!0,currentClass:this.className}},methods:{validateForm:function(r){null==this.email?this.emailError=!0:this.validEmail(this.email),null==this.name?this.nameError=!0:this.validName(this.name),!1===this.nameError&&!1===this.emailError&&this.sendForm(),r.preventDefault()},validEmail:function(r){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(r)?this.emailError=!1:this.emailError=!0},validName:function(r){/^[a-zA-ZА-Яа-яЁё\s]+$/.test(r)?this.nameError=!1:this.nameError=!0},sendForm:function(){var r=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={name:r.name,useremail:r.email,text:r.text};try{emailjs.send("service_chcob9d","template_509iqp1",t),r.formWasSend=!1}catch(r){console.error(r)}case 2:case"end":return e.stop()}}),e)})))()}}}),l=t(74),component=Object(l.a)(n,(function(){var r=this,e=r._self._c;return e("form",{staticClass:"form",class:r.currentClass,on:{submit:r.validateForm}},[r.formWasSend?e("div",{staticClass:"form__wrapper"},[r._m(0),r._v(" "),e("div",{staticClass:"form__content"},[e("label",{staticClass:"form__label"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:r.email,expression:"email",modifiers:{trim:!0}}],staticClass:"form__input",class:r.emailError?"error":"",attrs:{type:"email",placeholder:"Почта"},domProps:{value:r.email},on:{input:function(e){e.target.composing||(r.email=e.target.value.trim())},blur:function(e){return r.$forceUpdate()}}})]),r._v(" "),e("label",{staticClass:"form__label"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:r.password,expression:"password",modifiers:{trim:!0}}],staticClass:"form__input",class:r.passwordError?"error":"",attrs:{type:"password",placeholder:"Пароль"},domProps:{value:r.password},on:{input:function(e){e.target.composing||(r.password=e.target.value.trim())},blur:function(e){return r.$forceUpdate()}}})]),r._v(" "),e("button",{staticClass:"form__button",attrs:{type:"submit"}},[r._v("Отправить")])])]):e("div",{staticClass:"form__wrapper"},[r._m(1)])])}),[function(){var r=this,e=r._self._c;return e("div",{staticClass:"form__info"},[e("h3",{staticClass:"form__title"},[r._v("Registrationr")]),r._v(" "),e("p",{staticClass:"form__description"},[r._v("Description text for information.")])])},function(){var r=this,e=r._self._c;return e("div",{staticClass:"form__info _center"},[e("h3",{staticClass:"form__title"},[r._v("Пасиба!")]),r._v(" "),e("p",{staticClass:"form__description"},[r._v("всё ок")])])}],!1,null,null,null);e.default=component.exports},360:function(r,e,t){var content=t(361);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[r.i,content,""]]),content.locals&&(r.exports=content.locals);(0,t(109).default)("22bec8ce",content,!0,{sourceMap:!1})},361:function(r,e,t){var o=t(108)(!1);o.push([r.i,".form{display:flex;flex-direction:column;padding:2.8125rem .9375rem;background:#464646;border-radius:var(--border-radius)}.form__title{font-size:1.5rem;line-height:135%}.form__description{margin-top:.9375rem;font-size:1.125rem;line-height:135%}.form__content{display:flex;flex-direction:column;margin-top:1.875rem}.form__info._center{text-align:center}.form__label{width:100%;margin-bottom:.625rem}.form__input{display:flex;width:100%;min-height:2.8125rem;padding:.3125rem .9375rem;background:var(--color-white);border:.125rem solid var(--color-white);border-radius:var(--border-radius-sm);outline:none;font-size:1rem;line-height:135%}.form__input.error{border:.125rem solid var(--color-purple);box-shadow:inset 0 0 .3125rem var(--color-purple)}.form__textarea{resize:vertical;width:100%;min-height:7.5rem;margin-bottom:.625rem;padding:.3125rem .9375rem;background:var(--color-white);border:.125rem solid var(--color-white);border-radius:var(--border-radius-sm);outline:none;font-size:1rem;line-height:135%}.form__change{min-height:1.5625rem;margin:.9375rem auto 0;background:transparent;border:none;font-size:.875rem}.form__button,.form__change{display:flex;justify-content:center;align-items:center;width:100%;color:var(--color-black);outline:none;font-weight:900;line-height:135%;cursor:pointer}.form__button{min-height:2.8125rem;background:var(--color-yellow);border:.125rem solid var(--color-yellow);border-radius:var(--border-radius-sm);font-size:1rem}.form__error{margin-bottom:.9375rem;color:var(--color-purple);font-size:.75rem;font-weight:900;line-height:135%}.form._compact{padding:0;background:none}.form._compact .form__input{border:.125rem solid var(--color-grey)}.form._compact .form__input.error{border:.125rem solid var(--color-purple);box-shadow:inset 0 0 .3125rem var(--color-purple)}.form__social{display:flex;justify-content:center;align-items:center;margin-top:.9375rem}.form__social-icon{max-width:1.25rem;margin:0 .625rem;cursor:pointer}",""]),r.exports=o},364:function(r,e,t){r.exports=t.p+"img/google.da17d8a.png"},376:function(r,e,t){"use strict";t.r(e);t(168);var o=t(4),n=(t(33),t(19),t(359),{name:"m-form-login",props:{className:{type:String,default:""}},data:function(){return{email:null,password:null,emailError:!1,passwordError:!1,formWasSend:!0,errorMessageText:"Тест сообщения об ошибке с многословным пояснением и подробным описанием проблемы, для визуализации переполнения контейнера излишней информацией.",errorMessageShow:!1,currentClass:this.className}},methods:{validateForm:function(r){null==this.email?this.emailError=!0:this.validEmail(this.email),null==this.password?this.passwordError=!0:this.validPassword(this.password),!1===this.passwordError&&!1===this.emailError&&this.loginUser(),r.preventDefault()},validEmail:function(r){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(r)?this.emailError=!1:this.emailError=!0},validPassword:function(r){this.password.length>6?this.passwordError=!1:this.passwordError=!0},loginUser:function(){var r=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.$fire.auth.signInWithEmailAndPassword(r.email,r.password);case 3:t=e.sent,r.$store.commit("setToken",t.user.uid),r.$cookies.set("user",t.user.uid),r.errorMessageText="",r.errorMessageShow=!1,r.formWasSend=!1,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),"Firebase: Error (auth/wrong-password)."===e.t0.message?r.somethingWrong("Неправильный логин/пароль."):"Firebase: Error (auth/user-not-found)."===e.t0.message||"Firebase: There is no user record corresponding to this identifier. The user may have been deleted. (auth/user-not-found)."===e.t0.message?r.somethingWrong("Пользователь не найден."):console.error("Ошибка: ".concat(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},somethingWrong:function(r){this.emailError=!0,this.passwordError=!0,this.errorMessageText=r,this.errorMessageShow=!0},signInGoogle:function(){var r=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new r.$fireModule.auth.GoogleAuthProvider,e.next=3,r.$fire.auth.signInWithPopup(t);case 3:o=e.sent,r.$store.commit("setToken",o.user.uid),r.$cookies.set("user",o.user.uid),r.errorMessageText="",r.errorMessageShow=!1,r.formWasSend=!1;case 9:case"end":return e.stop()}}),e)})))()},changeFormLoginOrRegistration:function(){this.$emit("changeFormPopup")}}}),l=t(74),component=Object(l.a)(n,(function(){var r=this,e=r._self._c;return e("form",{staticClass:"form",class:r.currentClass,on:{submit:r.validateForm}},[r.formWasSend?e("div",{staticClass:"form__wrapper"},[r._m(0),r._v(" "),e("div",{staticClass:"form__content"},[e("label",{staticClass:"form__label"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:r.email,expression:"email",modifiers:{trim:!0}}],staticClass:"form__input",class:r.emailError?"error":"",attrs:{type:"email",placeholder:"Почта"},domProps:{value:r.email},on:{input:function(e){e.target.composing||(r.email=e.target.value.trim())},blur:function(e){return r.$forceUpdate()}}})]),r._v(" "),e("label",{staticClass:"form__label"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:r.password,expression:"password",modifiers:{trim:!0}}],staticClass:"form__input",class:r.passwordError?"error":"",attrs:{type:"password",placeholder:"Пароль"},domProps:{value:r.password},on:{input:function(e){e.target.composing||(r.password=e.target.value.trim())},blur:function(e){return r.$forceUpdate()}}})]),r._v(" "),r.errorMessageShow?e("p",{staticClass:"form__error"},[r._v(r._s(r.errorMessageText))]):r._e(),r._v(" "),e("button",{staticClass:"form__button",attrs:{type:"submit"}},[r._v("Отправить")]),r._v(" "),e("button",{staticClass:"form__change",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),r.changeFormLoginOrRegistration.apply(null,arguments)}}},[r._v("- Registration -")]),r._v(" "),e("div",{staticClass:"form__social"},[e("div",{staticClass:"form__social-icon",on:{click:function(e){return e.stopPropagation(),r.signInGoogle.apply(null,arguments)}}},[e("img",{staticClass:"form__social-image",attrs:{src:t(364),alt:"icon"}})])])])]):e("div",{staticClass:"form__wrapper"},[r._m(1)])])}),[function(){var r=this,e=r._self._c;return e("div",{staticClass:"form__info"},[e("h3",{staticClass:"form__title"},[r._v("Login")]),r._v(" "),e("p",{staticClass:"form__description"},[r._v("Description text for information.")])])},function(){var r=this,e=r._self._c;return e("div",{staticClass:"form__info _center"},[e("h3",{staticClass:"form__title"},[r._v("Пасиба!")]),r._v(" "),e("p",{staticClass:"form__description"},[r._v("всё ок")])])}],!1,null,null,null);e.default=component.exports}}]);